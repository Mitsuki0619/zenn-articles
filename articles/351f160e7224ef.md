---
title: "Cloudflareç’°å¢ƒã§ã¯Node.jsã«ä¾å­˜ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä½¿ãˆãªã„" # è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«
emoji: "ğŸ¦" # ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹çµµæ–‡å­—ï¼ˆ1æ–‡å­—ã ã‘ï¼‰
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢è¨˜äº‹
topics: ["TypeScript", "CloudflareWorkers", "CloudflarePages", "Cloudflare"] # ã‚¿ã‚°ã€‚["markdown", "rust", "aws"]ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹
published: true # å…¬é–‹è¨­å®šï¼ˆfalseã«ã™ã‚‹ã¨ä¸‹æ›¸ãï¼‰
---

ã¾ã‚ãã®é€šã‚Šã£ã¡ã‚ƒãã®é€šã‚Šãªã®ã§ã™ãŒã€å…ˆæ—¥ç‰¹ã«ä½•ã‚‚ç¢ºèªã›ãšã«[bcrypt](https://www.npmjs.com/package/bcrypt)ã‚’ import ã—ãŸçŠ¶æ…‹ã§ãƒ“ãƒ«ãƒ‰ã—ã€`wrangler pages dev`ã‚’è¡Œã†ã¨ä¸‹è¨˜ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚

```shell

 â›…ï¸ wrangler 3.80.0 (update available 3.80.4)
-------------------------------------------------------

âœ˜ [ERROR] Could not resolve "fs"

    ../node_modules/.pnpm/@mapbox+node-pre-gyp@1.0.11/node_modules/@mapbox/node-pre-gyp/lib/node-pre-gyp.js:20:19:
      20 â”‚ const fs = require('fs');
         â•µ                    ~~~~

  The package "fs" wasn't found on the file system but is built into node. Are you trying to bundle for node? You can use "platform: 'node'" to do that, which will remove this error.


âœ˜ [ERROR] Could not resolve "path"

    ../node_modules/.pnpm/@mapbox+node-pre-gyp@1.0.11/node_modules/@mapbox/node-pre-gyp/lib/node-pre-gyp.js:21:21:
      21 â”‚ const path = require('path');
         â•µ                      ~~~~~~

  The package "path" wasn't found on the file system but is built into node. Are you trying to bundle for node? You can use "platform: 'node'" to do that, which will remove this error.


âœ˜ [ERROR] Could not resolve "events"

    ../node_modules/.pnpm/@mapbox+node-pre-gyp@1.0.11/node_modules/@mapbox/node-pre-gyp/lib/node-pre-gyp.js:27:19:
      27 â”‚ const EE = require('events').EventEmitter;
         â•µ                    ~~~~~~~~

  The package "events" wasn't found on the file system but is built into node. Are you trying to bundle for node? You can use "platform: 'node'" to do that, which will remove this error.
```

ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã‚‹ã¨ã€ã€Œnode ã®ç’°å¢ƒã§ãƒãƒ³ãƒ‰ãƒ«ã—ã¦ã„ã‚‹ã‹ï¼Ÿã€çš„ãªã“ã¨ã‚’èã‹ã‚Œã¦ã„ã¾ã™ã€‚
ãŸã ã€ã“ã®ç’°å¢ƒã¯ Node.js ã§ã¯ãªã Cloudflare ã®ç’°å¢ƒãªã®ã§ã€Node.js ãŒæä¾›ã—ã¦ã„ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã€ã¾ãŸã¯ãã‚Œã‚’ä½¿ã£ã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†ã¨ã“ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚
bcrypt ã¯ã¾ã•ã«ãã®ä¸€ã¤ã§ã‚ã‚Šã€[npm ã®ä¾å­˜é–¢ä¿‚](https://npmgraph.js.org/?q=bcrypt#select=exact%3A%40mapbox%2Fnode-pre-gyp%401.0.11)ã‚’ã¿ã¦ã¿ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼æ–‡ã«ã‚ã‚‹`@mapbox+node-pre-gyp`ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€ã“ã‚ŒãŒåŸå› ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸæ¨¡æ§˜ã§ã™ã€‚

bcrypt ã®å ´åˆã¯ã€ä»£ã‚ã‚Šã«[bcryptjs](https://www.npmjs.com/package/bcryptjs)ã‚’ä½¿ãˆã°è§£æ±ºã§ãã¾ã™ã€‚

```
npm i bcrypt
npm i --save-dev @types/bcryptjs
```

ã‚‚ã—ã“ã†ã„ã£ãŸã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸéš›ã«ã”å‚è€ƒã«ãªã‚Œã‚Œã°å¹¸ã„ã§ã™ã€‚
ã¾ãŸã€ä»–ã«è§£æ±ºæ–¹æ³•ç­‰ãŒã‚ã‚Šã¾ã—ãŸã‚‰ã”æŒ‡æ‘˜ã„ãŸã ã‘ã¾ã™ã¨å¹¸ã„ã§ã™ã€‚
